"80","1","2009-05-17 15:49:37","2009-05-17 14:49:37","Si necesitás generar una serie de contenidos como <strong>arrays </strong>o <strong>strings </strong>en tu modulo,<strong> y tenes que pasarlos a javascript,</strong> la manera es la siguiente:[php]function mimodulo_page() {    $salida = array(        'primero' => urldecode('primer mensaje o dato.'),        'segundo' => urldecode('Segundo mensaje o dato'),        'tercero' => urldecode('Tercer mensaje o dato.'),    );    drupal_add_js(""var variable_en_js = "" . drupal_to_js($salida) . "";"", 'inline');}[/php]Ahora ya tenemos en nuestra pagina un hermoso objeto llamado <strong>variable_en_js</strong> que podemos comprobar con: <strong>alert(variable_en_js['segundo'])</strong>;","Como pasar variables de Drupal 6 a javascript",,"publish","open","open",,"como-pasar-variables-de-drupal-6-a-javascript",,,"2013-02-04 01:50:58","2013-02-04 00:50:58",,"0","http://www.capy.es/?p=80","0","post",,"0"
"86","1","2009-05-17 15:31:14","2009-05-17 14:31:14","La solución es fácil, pero da quebraderos de cabeza hasta que te das cuenta.<a href=""http://drupal.org/node/264132"">Como se comenta en los foros de drupal</a>, resulta que por algún motivo que desconocido, el usuario ""Anonymous"" se borra de la tabla ""users"". Y como los mensajes se guardan temporalmente en el array $_SESSION bajo el usuario en cuestion.... saquen conclusiones.La solución es crear nuevamente dicho usuario:[sql]INSERT INTO users (uid, name, mail) VALUES ('0', 'Anonymous', '');INSERT INTO users_roles (uid, rid) VALUES (0, 1);[/sql]Noten que lo estamos creando en el uid ""0"", cosa que es primordial, y si les pasa como a mi que al ejecutar este SQL se me creó con otro uid, lo editan con phpMyAdmin y lo cambian a cero.Agregado nuestro usuario, ya podemos volver a la normalidad. ;)","drupal_set_message no funciona en Drupal 6",,"publish","open","open",,"drupal_set_message-no-funciona-en-drupal-6",,,"2012-05-16 00:38:50","2012-05-15 22:38:50",,"0","http://www.capy.es/?p=86","0","post",,"0"
"100","1","2009-05-19 20:49:12","2009-05-19 19:49:12","Cuando tenemos una pagina en Drupal <strong>que necesitamos que sea dinámica</strong>, sepan que al habilitar el cache normal, va a dejar de procesar el PHP de respuesta y va a devolver un HTML puro y duro, que vendrá de cache.Esto es especialmente molesto para una pagina de confirmación del envío de un formulario, en el que podríamos querer darle las gracias al señor ""Tomsom"", y no seria posible ya que al tomar su nombre desde el formulario y querer mostrarlo en la pantalla de destino, no lo haria por los motivos comentados anteriormente.la solución es utilizar <strong>cache_clear_all() justo antes de dar salida a una pagina.</strong>Simplemente hay que pasarle la url que se va a mostrar como primer parametro y ""cache_page"".[php]global $base_root;cache_clear_all($base_root . request_uri().'/ruta_a_mi_pagina/formulario_enviado_ok', 'cache_page');[/php]""<strong>$base_root . request_uri().'/ruta_a_mi_pagina/formulario_enviado_ok</strong>"", se traduce a <span style=""color: #ff0000;"">""http://www.capy.es/ruta_a_mi_pagina/formulario_enviado_ok""</span>, y lo que va a hacer esta función es borrar la fila que contenga la información almacenada de esta vista en la tabla <strong>cache_page</strong>","Evitar el cache en Drupal 6 en paginas dinamicas",,"publish","open","open",,"evitar-cache-drupal6-paginas-dinamicas",,,"2012-05-16 00:40:08","2012-05-15 22:40:08",,"0","http://www.capy.es/?p=100","0","post",,"0"
